<html>
    <head>
		<title>CoG JGlobus: Testing</title>
		<style>
			body {
				width: 60%;
			}
			h1, h3 {
				color: #cc0000; 
				font-family: Arial, Helvetica, sans-serif;
			}
			h2 {
				font-family: Arial, Helvetica, sans-serif;
			}
			li>a {
				color: #003390;
				font-family: Arial, Helvetica, sans-serif;
				font-weight: bold;
				font-size: 120%;
			}
			p, li {
				font-family: Arial, Helvetica, sans-serif;
			}
			pre {
				padding: 8px 8px 8px 8px;
				background-color: #c6dafc;
			}
		</style>
    </head>
    <body>
		<h1>Testing</h1>
		<p>
			Unit tests are available with the source distribution. Since some of the unit
			tests rely on GT2 services to be running, first make sure that they are running OK. 
			Also, you will need to configure the tests (look for various test.properties 
			files) in the source distribution with the appropriate information (for example 
			the right service port, hostname, etc.). Finally, to run the tests do:</p>

<pre>ant test</pre>
		<h1>Testing with local config script</h1>
		<p>
        <UL>
            <LI> set the GLOBUS_LOCATION environment variable</LI>
             verify that you have a globus installation on your 
             local machine and point the GLOBUS_LOCATION environment variable 
            at that installation.
                <pre>export GLOBUS_LOCATION=&lt;path to globus install&gt;</pre>
            <LI> source the Globus environment</LI>
                <pre>source $GLOBUS_LOCATION/etc/globus-user-env.sh</pre>
            <LI> verify that the GridFTP server is installed</LI>
                <pre>which globus-gridftp-server</pre>
            <LI> verify that you have a vaid proxy</LI>
                <pre>grid-proxy-init</pre>
            <LI> run the test script </LI>
                <pre>
$ ./test-gridftp.sh
"/DC=org/DC=doegrids/OU=People/CN=John Bresnahan 596037" bresnaha
1024+0 records in
1024+0 records out
1048576 bytes (1.0 MB) copied, 0.291918 s, 3.6 MB/s
1+0 records in
1+0 records out
10240 bytes (10 kB) copied, 0.00195122 s, 5.2 MB/s
10240+0 records in
10240+0 records out
104857600 bytes (105 MB) copied, 24.0829 s, 4.4 MB/s
/tmp/tmp.AHMxwHZ74O/jglobusTestA
1024+0 records in
1024+0 records out
1048576 bytes (1.0 MB) copied, 0.248869 s, 4.2 MB/s
/tmp/tmp.AHMxwHZ74O/jglobusTestB
1024+0 records in
1024+0 records out
1048576 bytes (1.0 MB) copied, 0.236605 s, 4.4 MB/s
/tmp/tmp.AHMxwHZ74O/jglobusTestF
1024+0 records in
1024+0 records out
1048576 bytes (1.0 MB) copied, 0.428063 s, 2.4 MB/s
/tmp/tmp.AHMxwHZ74O/jglobusTestG
1024+0 records in
1024+0 records out
1048576 bytes (1.0 MB) copied, 0.227379 s, 4.6 MB/s
Buildfile: build.xml
  [taskdef] Could not load definitions from resource clovertasks. It could not be found.

prepare:

setenv:
     [echo] 
     [echo] --- Optional Libraries ---
     [echo] sasl.present=true
     [echo] 
     [echo] --- Property values ---
     [echo] debug=on
     [echo] deprecation=off
     [echo] optimize=off

setupVersion:

compile:
     [copy] Copying 1 file to /home/bresnaha/Dev/jglobus/build/classes

test:
    [junit] Running org.globus.common.tests.MVHashtableTest
    [junit] Tests run: 12, Failures: 0, Errors: 0, Time elapsed: 0.012 sec
    [junit] Running org.globus.common.tests.ResourceManagerContactTest
    [junit] Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 0.006 sec
    [junit] Running org.globus.ftp.test.AsciiTranslatorTest
    [junit] Tests run: 4, Failures: 0, Errors: 0, Time elapsed: 0.019 sec
    [junit] Running org.globus.ftp.test.ByteRangeListTest
    [junit] Tests run: 3, Failures: 0, Errors: 0, Time elapsed: 0.015 sec
    [junit] Running org.globus.ftp.test.ByteRangeTest
    [junit] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.005 sec
    [junit] Running org.globus.ftp.test.DataChannelReuseTest
    [junit] Tests run: 8, Failures: 0, Errors: 0, Time elapsed: 16.219 sec
    [junit] Running org.globus.ftp.test.DataChannelReuseVaryingParTest



                </pre>
        </UL>        
		</p>

	</body>
</html>
